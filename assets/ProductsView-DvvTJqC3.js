import{P as C}from"./ProductCard-CSQ03JEK.js";import{P}from"./PaginationComponent-Brw17M81.js";import{_ as b,m as k,a as L,e as o,b as s,t as i,c as p,w as u,F as m,r as f,g as V,d as h,h as c,o as t,f as _}from"./index-D3_6LEXB.js";import{l as g}from"./loadingStore-DT-oSTtX.js";import"./cartStore-Blp1LSfe.js";import"./LoadingBtn-_Q2in9eb.js";var v={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"jiayu",BASE_URL:"/Chocolate-Shop/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:E,VITE_PATH:S}=v,R={components:{ProductCard:C,PaginationComponent:P},data(){return{products:[],pagination:{},categories:["基本","特殊口味","禮盒","料理"],currentCategory:""}},mounted(){this.getProducts()},watch:{"$route.query":{handler(){this.getProducts()},deep:!0}},methods:{async getProducts(l=1){try{this.showLoading(),this.currentCategory=this.$route.query.category||"";const n=`${E}/api/${S}/products?page=${l}&category=${this.currentCategory}`,r=await this.$http.get(n);this.products=r.data.products,this.pagination=r.data.pagination,this.hideLoading()}catch(n){this.hideLoading();const{message:r}=n.response.data;this.$swal(Array.isArray(r)?r[0]:r)}},...k(g,["showLoading","hideLoading"])},computed:{...L(g,["loadingStatus"])}},T={class:"container py-10"},A={class:"pb-10 mb-8 border-b-2 border-primary-200"},D={class:"text-center text-2xl font-bold tracking-widest text-primary-800 pb-6"},B={class:"flex justify-center gap-4 md:gap-8 text font-medium"},$={key:0,class:"relative text-primary-700 after:absolute after:content-[''] after:w-full after:h-[2px] after:bg-primary-700 after:-bottom-1 after:left-0"},I={key:0,class:"relative text-primary-700 after:absolute after:content-[''] after:w-full after:h-[2px] after:bg-primary-700 after:-bottom-1 after:left-0"},N={class:"w-full"},U={key:0,class:"flex flex-wrap -m-4 mb-8 *:p-4"};function j(l,n,r,q,a,y){const d=c("RouterLink"),x=c("ProductCard"),w=c("PaginationComponent");return t(),o("div",T,[s("div",A,[s("h2",D,i(a.currentCategory||"全部"),1),s("ul",B,[s("li",null,[a.currentCategory===""?(t(),o("span",$,"全部")):(t(),p(d,{key:1,class:"link",to:"/products"},{default:u(()=>[_(" 全部 ")]),_:1}))]),(t(!0),o(m,null,f(a.categories,e=>(t(),o("li",{key:e},[a.currentCategory===e?(t(),o("span",I,i(e),1)):(t(),p(d,{key:1,class:"link",to:`/products?category=${e}`},{default:u(()=>[_(i(e),1)]),_:2},1032,["to"]))]))),128))])]),s("div",N,[a.products.length?(t(),o("ul",U,[(t(!0),o(m,null,f(a.products,e=>(t(),o("li",{class:"w-full md:w-1/2 xl:w-1/3",key:e.id},[h(x,{product:e},null,8,["product"])]))),128))])):V("",!0),h(w,{pagination:a.pagination,onGetData:y.getProducts},null,8,["pagination","onGetData"])])])}const J=b(R,[["render",j]]);export{J as default};
