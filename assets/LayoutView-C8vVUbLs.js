import{m as g,a as O,_ as S,o as l,c as C,w as s,b as t,d as o,e as r,f as _,t as w,g as M,r as a,h as R,n as y,F as v,i as I,j,v as V,p as N,k as A,T as H,l as D}from"./index-CY03ZQzG.js";import{l as B}from"./loadingStore-D3SGLAyx.js";import{c as $}from"./cartStore-CFSB6xlV.js";import{M as Q}from"./MyLoading-CJ_jHjw6.js";import{s as z}from"./scrollStore-HyAaPtIP.js";import{L as X}from"./LogoComponent-oWsu_MtI.js";import{T as E}from"./TransitionAccordion-e2HYf2Bt.js";import{T as q}from"./TooltipComponent-CVc4QH6d.js";import{p as F}from"./productStore-DhopGdoP.js";import{C as U}from"./CategoryLinks-BUfgfv3s.js";import{C as W}from"./CartList-DClKTraS.js";import{M as Y,X as G}from"./XBtn-kL3xh3IT.js";import"./swalStore-Dp0_3MaJ.js";import"./LoadingBtn-BREpaRRS.js";const J={components:{CartList:W,ModalComponent:Y,XBtn:G},data(){return{modal:null}},mounted(){this.modal=this.$refs.modal},methods:{showModal(){this.modal.showModal()},closeModal(){this.modal.closeModal()},...g($,["delAllCart"])},computed:{...O($,["cartNum","total","final_total"])}},K={class:"flex h-dvh flex-col bg-primary-50 text-primary-950"},Z={class:"flex items-center justify-between border-b border-primary-300 px-7 py-2 sm:px-8"},tt=t("h3",{class:"text-lg font-bold"},"購物車",-1),et={key:0,class:"px-7 py-6 sm:px-8"},ot={key:1,class:"flex grow items-center justify-center"},st={class:"text-center"},nt=t("i",{class:"bi bi-cart-x text-8xl"},null,-1),lt=t("p",{class:"pb-5 pt-11"},"你的購物車是空的",-1),at={key:2,class:"mt-auto border-t border-primary-300 px-7 py-6 sm:px-8"},it={class:"flex items-center justify-between pb-6 text-xl font-bold text-primary-800"},rt=t("p",null,"總額",-1),ct={class:"text-2xl"},dt={key:0,class:"mr-2 text-base text-stone-500"};function pt(e,i,d,L,c,n){const h=a("XBtn"),p=a("CartList"),b=a("RouterLink"),f=a("ModalComponent");return l(),C(f,{ref:"modal",direction:"right",class:"my-0 mr-0 max-h-dvh w-11/12 max-w-md"},{default:s(()=>[t("div",K,[t("div",Z,[tt,o(h,{onClick:n.closeModal},null,8,["onClick"])]),e.cartNum?(l(),r("div",et,[o(p)])):(l(),r("div",ot,[t("div",st,[nt,lt,o(b,{to:"/products",class:"btn btn-primary",onClick:n.closeModal},{default:s(()=>[_(" 開始購物 ")]),_:1},8,["onClick"])])])),e.cartNum?(l(),r("div",at,[t("div",it,[rt,t("p",ct,[e.total!==e.final_total?(l(),r("del",dt," NT$ "+w(e.total),1)):M("",!0),_(" NT$ "+w(e.final_total),1)])]),o(b,{to:"/cart",class:"btn btn-primary btn-lg block w-full text-center",onClick:n.closeModal},{default:s(()=>[_(" 去結帳 ")]),_:1},8,["onClick"])])):M("",!0)])]),_:1},512)}const mt=S(J,[["render",pt]]),ut={props:{linkTo:[String,Object],isQueryActive:{type:Boolean,default:!0}},emits:["handle-click"]},_t=["onClick"];function ht(e,i,d,L,c,n){const h=a("RouterLink");return l(),C(h,{to:d.linkTo,custom:""},{default:s(({navigate:p,isExactActive:b})=>[t("li",{class:y(["-mx-2 cursor-pointer rounded-sm px-4 py-3 transition-all duration-300 hover:bg-primary-200 hover:text-primary-800 focus:bg-primary-200 focus:text-primary-800",{active:b&&d.isQueryActive}]),onClick:f=>{p(),e.$emit("handle-click")},role:"link"},[R(e.$slots,"default")],10,_t)]),_:3},8,["to"])}const ft=S(ut,[["render",ht]]),bt={components:{LogoComponent:X,TransitionAccordion:E,CartModal:mt,TooltipComponent:q,MenuLink:ft,CategoryLinks:U},data(){return{isMenuOpen:!1,isProductOpen:!0}},watch:{isMenuOpen(){this.isMenuOpen?(this.getCurrentScroll(),this.disableScroll()):this.enableScroll()}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen},toggleProduct(){this.isProductOpen=!this.isProductOpen},closeMenu(){this.isMenuOpen=!1,this.isProductOpen=!0},openCartModal(){this.$refs.cartModal.showModal()},...g(B,["showLoading","hideLoading"]),...g(z,["getCurrentScroll","disableScroll","enableScroll"]),...g($,["getCart"])},computed:{...O($,["cartNum"]),...O(F,["categories","currentCategory"])}},P=e=>(N("data-v-ceefa594"),e=e(),A(),e),xt={class:"relative border-b border-primary-300 bg-primary-800 text-primary-200 py-2 md:py-3 md:static"},yt={class:"container mx-auto"},gt={class:"flex items-center justify-between"},kt={class:"text-md 0 hidden gap-6 *:rounded-sm *:transition-all *:duration-150 hover:*:bg-primary-200 hover:*:text-primary-800 md:flex"},vt={class:"group relative"},Ct={class:"flex gap-5 p-2"},wt=["onClick"],Mt=["onClick"],$t={class:"flex gap-4 text-lg *:transition-all *:duration-150 hover:*:rounded-sm hover:*:bg-primary-200 hover:*:text-primary-800 focus:*:bg-primary-200 focus:*:text-primary-800"},St=P(()=>t("i",{class:"bi bi-cart-fill","aria-label":"購物車"},null,-1)),Lt={key:0,class:"absolute left-full top-0 block -translate-x-5 rounded-xl bg-orange-600 px-2 py-1 text-xs font-bold leading-3 text-primary-50 group-hover/cartIcon:bg-orange-500"},Tt=P(()=>t("i",{class:"bi bi-heart-fill","aria-label":"收藏"},null,-1)),Ot={key:0,class:"h-[544px] w-full overflow-y-hidden bg-primary-800/95 text-primary-200"},It={class:"container"},Nt={class:"text-md flex flex-col gap-4 py-6 font-bold"},At={class:"-mx-2 px-4 py-3"},Bt={class:"flex h-80 flex-col gap-3 overflow-y-hidden px-2 py-3"};function Pt(e,i,d,L,c,n){const h=a("LogoComponent"),p=a("RouterLink"),b=a("CategoryLinks"),f=a("TooltipComponent"),x=a("MenuLink"),k=a("TransitionAccordion"),T=a("CartModal");return l(),r(v,null,[t("header",{class:y(["fixed top-0 z-40 w-full backdrop-brightness-75 md:backdrop-brightness-100",{"h-full":c.isMenuOpen}])},[t("div",xt,[t("div",yt,[t("nav",gt,[t("button",{type:"button",class:"btn btn-link -ml-1 p-1 md:hidden",onClick:i[0]||(i[0]=(...m)=>n.toggleMenu&&n.toggleMenu(...m))},[t("i",{class:y(["bi text-4xl",`${c.isMenuOpen?"bi-x":"bi-list"}`])},null,2)]),o(p,{to:"/",class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-sm bg-primary-200 transition-opacity duration-150 hover:opacity-80 md:static md:translate-x-0 md:translate-y-0"},{default:s(()=>[o(h,{class:"px-2 pb-2 text-xl md:px-3 md:pb-3 md:pt-1 md:text-2xl"})]),_:1}),t("ul",kt,[t("li",vt,[o(p,{class:"inline-block p-2",to:"/products"},{default:s(()=>[_("產品列表")]),_:1}),o(f,null,{default:s(()=>[t("ul",Ct,[(l(!0),r(v,null,I(e.categories,(m,u)=>(l(),C(b,{key:u,category:u},null,8,["category"]))),128))])]),_:1})]),o(p,{to:"/articles",custom:""},{default:s(({navigate:m,isExactActive:u})=>[t("li",{class:y(["inline-block p-2",u?"active":"cursor-pointer"]),onClick:m,role:"link"}," 最新消息 ",10,wt)]),_:1}),o(p,{to:"/about",custom:""},{default:s(({navigate:m,isExactActive:u})=>[t("li",{class:y(["inline-block p-2",u?"active":"cursor-pointer"]),onClick:m,role:"link"}," 關於我們 ",10,Mt)]),_:1})]),t("ul",$t,[t("li",null,[t("button",{type:"button",class:"group/cartIcon relative block px-3 py-2",onClick:i[1]||(i[1]=(...m)=>n.openCartModal&&n.openCartModal(...m))},[St,e.cartNum?(l(),r("span",Lt,w(e.cartNum),1)):M("",!0)])]),t("li",null,[o(p,{class:"block p-1 px-3 py-2",to:"/favorites"},{default:s(()=>[Tt]),_:1})])])])])]),o(k,null,{default:s(()=>[c.isMenuOpen?(l(),r("div",Ot,[t("div",It,[t("ul",Nt,[t("li",At,[t("button",{class:"block w-full text-start",to:"/products",onClick:i[2]||(i[2]=(...m)=>n.toggleProduct&&n.toggleProduct(...m))},[_(" 產品列表 "),t("i",{class:y(["bi bi-chevron-down float-right transition-all duration-300",{"origin-center rotate-180 ":c.isProductOpen}])},null,2)]),o(k,null,{default:s(()=>[j(t("ul",Bt,[o(x,{"link-to":"/products",isQueryActive:e.currentCategory==="",onHandleClick:n.closeMenu},{default:s(()=>[_(" - 全部 ")]),_:1},8,["isQueryActive","onHandleClick"]),(l(!0),r(v,null,I(e.categories,(m,u)=>(l(),C(x,{key:u,"link-to":{path:"/products",query:{category:u}},isQueryActive:e.currentCategory===u,onHandleClick:n.closeMenu},{default:s(()=>[_(" - "+w(u),1)]),_:2},1032,["link-to","isQueryActive","onHandleClick"]))),128))],512),[[V,c.isProductOpen]])]),_:1})]),o(x,{"link-to":"/articles",onHandleClick:n.closeMenu},{default:s(()=>[_("最新消息")]),_:1},8,["onHandleClick"]),o(x,{"link-to":"/about",onHandleClick:n.closeMenu},{default:s(()=>[_("關於我們")]),_:1},8,["onHandleClick"])])])])):M("",!0)]),_:1})],2),o(T,{ref:"cartModal"},null,512)],64)}const Rt=S(bt,[["render",Pt],["__scopeId","data-v-ceefa594"]]),jt={mounted(){window.addEventListener("scroll",this.handleScroll)},data(){return{isShow:!1}},methods:{scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll(){window.scrollY>500?this.isShow=!0:this.isShow=!1}}},Vt=e=>(N("data-v-8b432281"),e=e(),A(),e),Ht={key:0,class:"fixed bottom-[10%] right-[5%] z-10"},Dt=Vt(()=>t("i",{class:"bi bi-chevron-up text-shadow"},null,-1)),Qt=[Dt];function zt(e,i,d,L,c,n){return l(),C(H,{name:"anim","enter-active-class":"animate__animated animate__fadeInUp animate__faster","leave-active-class":"animate__animated animate__fadeOutDown animate__faster"},{default:s(()=>[c.isShow?(l(),r("div",Ht,[t("button",{type:"button",class:"btn btn-primary-light rounded-full shadow-sm shadow-primary-800/50",onClick:i[0]||(i[0]=(...h)=>n.scrollToTop&&n.scrollToTop(...h))},Qt)])):M("",!0)]),_:1})}const Xt=S(jt,[["render",zt],["__scopeId","data-v-8b432281"]]),Et={components:{MyLoading:Q,NavbarComponent:Rt,ScrollTopBtn:Xt},data(){return{timer:{},timerInterval:null,now:Math.floor(new Date().getTime()/1e3)}},mounted(){this.getCart(),this.handleTimer()},methods:{closeModal(){this.isCartModalOpen=!1},toggleMenu(){this.isMenuOpen=!this.isMenuOpen},handleTimer(){const e=Date.parse("2024-03-31")/1e3;this.timerInterval&&clearInterval(this.timerInterval),this.timerInterval=setInterval(()=>{const i=Math.floor(new Date().getTime()/1e3),d=e-i;this.timer={日:Math.floor(d/60/60/24).toString().padStart(2,"0"),時:(Math.floor(d/60/60)%24).toString().padStart(2,"0"),分:(Math.floor(d/60)%60).toString().padStart(2,"0"),秒:(d%60).toString().padStart(2,"0")}},1e3)},...g(B,["showLoading"]),...g($,["getCart"])}},qt={class:"flex h-dvh flex-col"},Ft={class:"mt-[65px] grow bg-primary-50 md:mt-[73px]"},Ut={class:"item-center fixed bottom-0 left-0 z-20 flex w-full flex-wrap justify-center bg-orange-600 py-2 text-sm text-primary-50 md:py-3 md:text-base"},Wt=t("p",{class:"pr-4"},[_("結帳輸入 ILOVECACAO "),t("span",{class:"font-bold"},"全館 8 折")],-1),Yt=t("i",{class:"bi bi-alarm me-1 hidden md:inline"},null,-1),Gt={class:"flex gap-1"},Jt={class:"font-bold"},Kt={class:"mt-auto bg-primary-800 pb-16 pt-6 text-primary-200"},Zt={class:"container"},te={class:"mb-4 flex justify-between border-b border-primary-200 pb-6"},ee=D('<div class="flex flex-col"><p class="mb-4 font-bold text-primary-100">連絡我們</p><ul class="flex flex-col items-start gap-2 *:transition-opacity *:duration-150 hover:*:opacity-80 md:gap-3"><li><a class="inline-flex items-center gap-3 md:gap-4" href="tel:+886-912345678"><i class="bi bi-telephone text-xl"></i>0912345678 </a></li><li><a class="inline-flex items-center gap-3 md:gap-4" href="mailto:hi@cacao.com"><i class="bi bi-envelope text-xl"></i>hi@cacao.com </a></li></ul></div>',1),oe=t("p",{class:"mb-4 font-bold text-primary-100"},"追蹤我們",-1),se={class:"mb-2 flex items-start gap-2 text-xl *:transition-opacity *:duration-150 hover:*:opacity-80 md:gap-4"},ne=t("i",{class:"bi bi-facebook","aria-label":"facebook"},null,-1),le=t("i",{class:"bi bi-instagram","aria-label":"instagram"},null,-1),ae=t("i",{class:"bi bi-line","aria-label":"line"},null,-1),ie={class:"flex flex-col gap-2 text-sm md:flex-row md:justify-between"},re=t("span",null,"© 2023 jiayu / 非營業用途",-1);function ce(e,i,d,L,c,n){const h=a("MyLoading"),p=a("NavbarComponent"),b=a("RouterView"),f=a("RouterLink"),x=a("ScrollTopBtn");return l(),r(v,null,[o(h),t("div",qt,[o(p),t("div",Ft,[o(b,{"my-timer":c.timer},null,8,["my-timer"])]),t("div",Ut,[Wt,Yt,t("ul",Gt,[(l(!0),r(v,null,I(c.timer,(k,T)=>(l(),r("li",{key:k},[t("p",Jt,w(`${k} ${T}`),1)]))),128))])]),t("footer",Kt,[t("div",Zt,[t("div",te,[ee,t("div",null,[oe,t("ul",se,[t("li",null,[o(f,{class:"p-1",to:"https://www.facebook.com/"},{default:s(()=>[ne]),_:1})]),t("li",null,[o(f,{class:"p-1",to:"https://www.instagram.com/"},{default:s(()=>[le]),_:1})]),t("li",null,[o(f,{class:"p-1",to:"https://liff.line.me/1645278921-kWRPP32q/?accountId=linetw"},{default:s(()=>[ae]),_:1})])])])]),t("div",ie,[re,o(f,{to:"/about"},{default:s(()=>[_("版權聲明")]),_:1})])])])]),o(x)],64)}const we=S(Et,[["render",ce]]);export{we as default};
