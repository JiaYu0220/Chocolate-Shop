import{m as b,a as O,_ as T,o as n,c as C,w as s,b as t,d as e,e as r,f as u,t as y,g as w,r as a,h as I,n as v,F as $,i as N,j as H,v as V,p as A,k as B,T as Q,l as F,q as z}from"./index-hIBv_cFW.js";import{l as P}from"./loadingStore-DNIkVO7R.js";import{c as M}from"./cartStore-DdOrrH1A.js";import{T as D,t as j}from"./TooltipComponent-CXEf588T.js";import{M as X}from"./MyLoading-BJ2F27_q.js";import{s as q}from"./scrollStore-gnaDh0f9.js";import{L as E}from"./LogoComponent-CR11ikJR.js";import{T as U}from"./TransitionAccordion-C-hLOVJk.js";import{p as W}from"./productStore-CHJpRlEh.js";import{C as Y}from"./CategoryLinks-B31nd6pU.js";import{C as G}from"./CartList-BHh7a_y-.js";import{M as J,X as K}from"./XBtn-6EgZDbM3.js";import{T as Z}from"./TransitionFade-DMq-VEB3.js";import"./swalStore-BXANR3GM.js";import"./LoadingBtn-BuU4Qp6P.js";const tt={components:{CartList:G,ModalComponent:J,XBtn:K},data(){return{modal:null}},mounted(){this.modal=this.$refs.modal},methods:{showModal(){this.modal.showModal()},closeModal(){this.modal.closeModal()},...b(M,["delAllCart"])},computed:{...O(M,["cartNum","total","final_total"])}},ot={class:"flex h-dvh flex-col bg-primary-50 text-primary-950"},et={class:"flex items-center justify-between border-b border-primary-300 px-7 py-2 sm:px-8"},st=t("h3",{class:"text-lg font-bold"},"購物車",-1),nt={key:0,class:"px-7 py-6 sm:px-8"},lt={key:1,class:"flex grow items-center justify-center"},at={class:"text-center"},it=t("i",{class:"bi bi-cart-x text-8xl"},null,-1),rt=t("p",{class:"pb-5 pt-11"},"你的購物車是空的",-1),ct={key:2,class:"mt-auto border-t border-primary-300 px-7 py-6 sm:px-8"},dt={class:"flex items-center justify-between pb-6 text-xl font-bold text-primary-800"},pt=t("p",null,"總額",-1),ut={class:"text-2xl"},mt={key:0,class:"mr-2 text-base text-stone-500"};function _t(o,c,x,L,m,l){const _=a("XBtn"),d=a("CartList"),f=a("RouterLink"),g=a("ModalComponent");return n(),C(g,{ref:"modal",direction:"right",class:"my-0 mr-0 max-h-dvh w-11/12 max-w-md"},{default:s(()=>[t("div",ot,[t("div",et,[st,e(_,{onClick:l.closeModal},null,8,["onClick"])]),o.cartNum?(n(),r("div",nt,[e(d)])):(n(),r("div",lt,[t("div",at,[it,rt,e(f,{to:"/products",class:"btn btn-primary",onClick:l.closeModal},{default:s(()=>[u(" 開始購物 ")]),_:1},8,["onClick"])])])),o.cartNum?(n(),r("div",ct,[t("div",dt,[pt,t("p",ut,[o.total!==o.final_total?(n(),r("del",mt," NT$ "+y(o.total),1)):w("",!0),u(" NT$ "+y(o.final_total),1)])]),e(f,{to:"/cart",class:"btn btn-primary btn-lg block w-full text-center",onClick:l.closeModal},{default:s(()=>[u(" 去結帳 ")]),_:1},8,["onClick"])])):w("",!0)])]),_:1},512)}const ht=T(tt,[["render",_t]]),ft={props:{linkTo:[String,Object],isQueryActive:{type:Boolean,default:!0}},emits:["handle-click"]},bt=["onClick"];function yt(o,c,x,L,m,l){const _=a("RouterLink");return n(),C(_,{to:x.linkTo,custom:""},{default:s(({navigate:d,isExactActive:f})=>[t("li",{class:v(["-mx-2 cursor-pointer rounded-sm px-4 py-3 transition-all duration-300 hover:bg-primary-200 hover:text-primary-800 focus:bg-primary-200 focus:text-primary-800",{active:f&&x.isQueryActive}]),onClick:g=>{d(),o.$emit("handle-click")},role:"link"},[I(o.$slots,"default")],10,bt)]),_:3},8,["to"])}const xt=T(ft,[["render",yt]]),gt={components:{LogoComponent:E,TransitionAccordion:U,CartModal:ht,TooltipComponent:D,MenuLink:xt,CategoryLinks:Y},data(){return{isMenuOpen:!1,isProductOpen:!0}},watch:{isMenuOpen(){this.isMenuOpen?(this.getCurrentScroll(),this.disableScroll()):this.enableScroll()}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen},toggleProduct(){this.isProductOpen=!this.isProductOpen},closeMenu(){this.isMenuOpen=!1,this.isProductOpen=!0},openCartModal(){this.$refs.cartModal.showModal()},...b(P,["showLoading","hideLoading"]),...b(q,["getCurrentScroll","disableScroll","enableScroll"]),...b(M,["getCart"])},computed:{...O(M,["cartNum"]),...O(W,["categories","currentCategory"])}},R=o=>(A("data-v-ceefa594"),o=o(),B(),o),kt={class:"relative border-b border-primary-300 bg-primary-800 text-primary-200 py-2 md:py-3 md:static"},vt={class:"container mx-auto"},Ct={class:"flex items-center justify-between"},wt={class:"text-md 0 hidden gap-6 *:rounded-sm *:transition-all *:duration-150 hover:*:bg-primary-200 hover:*:text-primary-800 md:flex"},$t={class:"group relative"},Mt={class:"flex gap-5 p-2"},Tt=["onClick"],Lt=["onClick"],St={class:"flex gap-4 text-lg *:transition-all *:duration-150 hover:*:rounded-sm hover:*:bg-primary-200 hover:*:text-primary-800 focus:*:bg-primary-200 focus:*:text-primary-800"},Ot=R(()=>t("i",{class:"bi bi-cart-fill","aria-label":"購物車"},null,-1)),Nt={key:0,class:"absolute left-full top-0 block -translate-x-5 rounded-xl bg-orange-600 px-2 py-1 text-xs font-bold leading-3 text-primary-50 group-hover/cartIcon:bg-orange-500"},jt=R(()=>t("i",{class:"bi bi-heart-fill","aria-label":"收藏"},null,-1)),At={key:0,class:"h-[544px] w-full overflow-y-hidden bg-primary-800/95 text-primary-200"},Bt={class:"container"},Pt={class:"text-md flex flex-col gap-4 py-6 font-bold"},Rt={class:"-mx-2 px-4 py-3"},It={class:"flex h-80 flex-col gap-3 overflow-y-hidden px-2 py-3"};function Ht(o,c,x,L,m,l){const _=a("LogoComponent"),d=a("RouterLink"),f=a("CategoryLinks"),g=a("TooltipComponent"),h=a("MenuLink"),S=a("TransitionAccordion"),k=a("CartModal");return n(),r($,null,[t("header",{class:v(["fixed top-0 z-40 w-full backdrop-brightness-75 md:backdrop-brightness-100",{"h-full":m.isMenuOpen}])},[t("div",kt,[t("div",vt,[t("nav",Ct,[t("button",{type:"button",class:"btn btn-link -ml-1 p-1 md:hidden",onClick:c[0]||(c[0]=(...i)=>l.toggleMenu&&l.toggleMenu(...i))},[t("i",{class:v(["bi text-4xl",`${m.isMenuOpen?"bi-x":"bi-list"}`])},null,2)]),e(d,{to:"/",class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-sm bg-primary-200 transition-opacity duration-150 hover:opacity-80 md:static md:translate-x-0 md:translate-y-0"},{default:s(()=>[e(_,{class:"px-2 pb-2 text-xl md:px-3 md:pb-3 md:pt-1 md:text-2xl"})]),_:1}),t("ul",wt,[t("li",$t,[e(d,{class:"inline-block p-2",to:"/products"},{default:s(()=>[u("產品列表")]),_:1}),e(g,null,{default:s(()=>[t("ul",Mt,[(n(!0),r($,null,N(o.categories,(i,p)=>(n(),C(f,{key:p,category:p},null,8,["category"]))),128))])]),_:1})]),e(d,{to:"/articles",custom:""},{default:s(({navigate:i,isExactActive:p})=>[t("li",{class:v(["inline-block p-2",p?"active":"cursor-pointer"]),onClick:i,role:"link"}," 最新消息 ",10,Tt)]),_:1}),e(d,{to:"/about",custom:""},{default:s(({navigate:i,isExactActive:p})=>[t("li",{class:v(["inline-block p-2",p?"active":"cursor-pointer"]),onClick:i,role:"link"}," 關於我們 ",10,Lt)]),_:1})]),t("ul",St,[t("li",null,[t("button",{type:"button",class:"group/cartIcon relative block px-3 py-2",onClick:c[1]||(c[1]=(...i)=>l.openCartModal&&l.openCartModal(...i))},[Ot,o.cartNum?(n(),r("span",Nt,y(o.cartNum),1)):w("",!0)])]),t("li",null,[e(d,{class:"block p-1 px-3 py-2",to:"/favorites"},{default:s(()=>[jt]),_:1})])])])])]),e(S,null,{default:s(()=>[m.isMenuOpen?(n(),r("div",At,[t("div",Bt,[t("ul",Pt,[t("li",Rt,[t("button",{class:"block w-full text-start",to:"/products",onClick:c[2]||(c[2]=(...i)=>l.toggleProduct&&l.toggleProduct(...i))},[u(" 產品列表 "),t("i",{class:v(["bi bi-chevron-down float-right transition-all duration-300",{"origin-center rotate-180 ":m.isProductOpen}])},null,2)]),e(S,null,{default:s(()=>[H(t("ul",It,[e(h,{"link-to":"/products",isQueryActive:o.currentCategory==="",onHandleClick:l.closeMenu},{default:s(()=>[u(" - 全部 ")]),_:1},8,["isQueryActive","onHandleClick"]),(n(!0),r($,null,N(o.categories,(i,p)=>(n(),C(h,{key:p,"link-to":{path:"/products",query:{category:p}},isQueryActive:o.currentCategory===p,onHandleClick:l.closeMenu},{default:s(()=>[u(" - "+y(p),1)]),_:2},1032,["link-to","isQueryActive","onHandleClick"]))),128))],512),[[V,m.isProductOpen]])]),_:1})]),e(h,{"link-to":"/articles",onHandleClick:l.closeMenu},{default:s(()=>[u("最新消息")]),_:1},8,["onHandleClick"]),e(h,{"link-to":"/about",onHandleClick:l.closeMenu},{default:s(()=>[u("關於我們")]),_:1},8,["onHandleClick"])])])])):w("",!0)]),_:1})],2),e(k,{ref:"cartModal"},null,512)],64)}const Vt=T(gt,[["render",Ht],["__scopeId","data-v-ceefa594"]]),Qt={mounted(){window.addEventListener("scroll",this.handleScroll)},data(){return{isShow:!1}},methods:{scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll(){window.scrollY>500?this.isShow=!0:this.isShow=!1}}},Ft=o=>(A("data-v-8b432281"),o=o(),B(),o),zt={key:0,class:"fixed bottom-[10%] right-[5%] z-10"},Dt=Ft(()=>t("i",{class:"bi bi-chevron-up text-shadow"},null,-1)),Xt=[Dt];function qt(o,c,x,L,m,l){return n(),C(Q,{name:"anim","enter-active-class":"animate__animated animate__fadeInUp animate__faster","leave-active-class":"animate__animated animate__fadeOutDown animate__faster"},{default:s(()=>[m.isShow?(n(),r("div",zt,[t("button",{type:"button",class:"btn btn-primary-light rounded-full shadow-sm shadow-primary-800/50",onClick:c[0]||(c[0]=(..._)=>l.scrollToTop&&l.scrollToTop(..._))},Xt)])):w("",!0)]),_:1})}const Et=T(Qt,[["render",qt],["__scopeId","data-v-8b432281"]]),Ut={components:{MyLoading:X,NavbarComponent:Vt,ScrollTopBtn:Et,TransitionFade:Z},mounted(){this.getCart(),this.handleCouponTimer()},methods:{closeModal(){this.isCartModalOpen=!1},toggleMenu(){this.isMenuOpen=!this.isMenuOpen},...b(P,["showLoading"]),...b(M,["getCart"]),...b(j,["handleCouponTimer"])},computed:{...O(j,["couponTimer","coupon"])}},Wt={class:"flex h-dvh flex-col"},Yt={class:"mt-[65px] grow bg-primary-50 md:mt-[73px]"},Gt={class:"item-center fixed bottom-0 left-0 z-20 flex w-full flex-wrap justify-center bg-orange-600 py-2 text-sm text-primary-50 md:py-3 md:text-base"},Jt={class:"pr-4"},Kt={class:"font-bold"},Zt=t("i",{class:"bi bi-alarm me-1 hidden md:inline"},null,-1),to={key:0,class:"flex gap-1"},oo={class:"font-bold"},eo={class:"mt-auto bg-primary-800 pb-16 pt-6 text-primary-200"},so={class:"container"},no={class:"mb-4 flex justify-between border-b border-primary-200 pb-6"},lo=F('<div class="flex flex-col"><p class="mb-4 font-bold text-primary-100">連絡我們</p><ul class="flex flex-col items-start gap-2 *:transition-opacity *:duration-150 hover:*:opacity-80 md:gap-3"><li><a class="inline-flex items-center gap-3 md:gap-4" href="tel:+886-912345678"><i class="bi bi-telephone text-xl"></i>0912345678 </a></li><li><a class="inline-flex items-center gap-3 md:gap-4" href="mailto:hi@cacao.com"><i class="bi bi-envelope text-xl"></i>hi@cacao.com </a></li></ul></div>',1),ao=t("p",{class:"mb-4 font-bold text-primary-100"},"追蹤我們",-1),io={class:"mb-2 flex items-start gap-2 text-xl *:transition-opacity *:duration-150 hover:*:opacity-80 md:gap-4"},ro=t("i",{class:"bi bi-facebook","aria-label":"facebook"},null,-1),co=t("i",{class:"bi bi-instagram","aria-label":"instagram"},null,-1),po=t("i",{class:"bi bi-line","aria-label":"line"},null,-1),uo={class:"flex flex-col gap-2 text-sm md:flex-row md:justify-between"},mo=t("span",null,"© 2023 jiayu / 非營業用途",-1);function _o(o,c,x,L,m,l){const _=a("MyLoading"),d=a("NavbarComponent"),f=a("TransitionFade"),g=a("RouterView"),h=a("RouterLink"),S=a("ScrollTopBtn");return n(),r($,null,[e(_),t("div",Wt,[e(d),t("div",Yt,[e(g,null,{default:s(({Component:k,route:i})=>[e(f,{mode:"out-in"},{default:s(()=>[(n(),C(z(k),{key:i.path}))]),_:2},1024)]),_:1})]),t("div",Gt,[t("p",Jt,[u(" 結帳輸入 "+y(o.coupon.code)+" ",1),t("span",Kt,"全館 "+y(o.coupon.percent/10)+" 折",1)]),Zt,Object.keys(o.couponTimer).length?(n(),r("ul",to,[(n(!0),r($,null,N(o.couponTimer,(k,i)=>(n(),r("li",{key:k},[t("p",oo,y(`${k} ${i}`),1)]))),128))])):w("",!0)]),t("footer",eo,[t("div",so,[t("div",no,[lo,t("div",null,[ao,t("ul",io,[t("li",null,[e(h,{class:"p-1",to:"https://www.facebook.com/"},{default:s(()=>[ro]),_:1})]),t("li",null,[e(h,{class:"p-1",to:"https://www.instagram.com/"},{default:s(()=>[co]),_:1})]),t("li",null,[e(h,{class:"p-1",to:"https://liff.line.me/1645278921-kWRPP32q/?accountId=linetw"},{default:s(()=>[po]),_:1})])])])]),t("div",uo,[mo,e(h,{to:"/about"},{default:s(()=>[u("版權聲明")]),_:1})])])])]),e(S)],64)}const Oo=T(Ut,[["render",_o]]);export{Oo as default};
