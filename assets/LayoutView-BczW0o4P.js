import{m as k,a as O,_ as S,o as l,c as w,w as s,b as t,d as o,e as c,f as m,t as b,g as M,r as a,h as B,n as g,F as C,i as I,j,v as V,p as N,k as A,T as H,l as Q}from"./index-DSvEBgKx.js";import{l as P}from"./loadingStore-CRsAEdG-.js";import{c as $}from"./cartStore-CBZ03EbW.js";import{M as D}from"./MyLoading-3pCiGpkn.js";import{s as X}from"./scrollStore-DJWRycVU.js";import{L as q}from"./LogoComponent-iCTF_2pJ.js";import{T as z}from"./TransitionAccordion-A4U4rn9g.js";import{T as E}from"./TooltipComponent-YpvDvn6g.js";import{p as F}from"./productStore-CkPDPtpV.js";import{C as W}from"./CategoryLinks-DWbxu_FB.js";import{C as U}from"./CartList-JxH4rviX.js";import{M as Y,X as G}from"./XBtn-DBKjV65L.js";import"./swalStore-rAKyBXMr.js";import"./LoadingBtn-BE7AR8Ew.js";const J={components:{CartList:U,ModalComponent:Y,XBtn:G},data(){return{modal:null}},mounted(){this.modal=this.$refs.modal},methods:{showModal(){this.modal.showModal()},closeModal(){this.modal.closeModal()},...k($,["delAllCart"])},computed:{...O($,["cartNum","total","final_total"])}},K={class:"flex h-dvh flex-col bg-primary-50 text-primary-950"},Z={class:"flex items-center justify-between border-b border-primary-300 px-7 py-2 sm:px-8"},tt=t("h3",{class:"text-lg font-bold"},"購物車",-1),et={key:0,class:"px-7 py-6 sm:px-8"},ot={key:1,class:"flex grow items-center justify-center"},st={class:"text-center"},nt=t("i",{class:"bi bi-cart-x text-8xl"},null,-1),lt=t("p",{class:"pb-5 pt-11"},"你的購物車是空的",-1),it={key:2,class:"mt-auto border-t border-primary-300 px-7 py-6 sm:px-8"},at={class:"flex items-center justify-between pb-6 text-xl font-bold text-primary-800"},rt=t("p",null,"總額",-1),ct={class:"text-2xl"},dt={key:0,class:"mr-2 text-base text-stone-500"};function pt(e,i,x,L,r,n){const _=a("XBtn"),d=a("CartList"),f=a("RouterLink"),h=a("ModalComponent");return l(),w(h,{ref:"modal",direction:"right",class:"my-0 mr-0 max-h-dvh w-11/12 max-w-md"},{default:s(()=>[t("div",K,[t("div",Z,[tt,o(_,{onClick:n.closeModal},null,8,["onClick"])]),e.cartNum?(l(),c("div",et,[o(d)])):(l(),c("div",ot,[t("div",st,[nt,lt,o(f,{to:"/products",class:"btn btn-primary",onClick:n.closeModal},{default:s(()=>[m(" 開始購物 ")]),_:1},8,["onClick"])])])),e.cartNum?(l(),c("div",it,[t("div",at,[rt,t("p",ct,[e.total!==e.final_total?(l(),c("del",dt," NT$ "+b(e.total),1)):M("",!0),m(" NT$ "+b(e.final_total),1)])]),o(f,{to:"/cart",class:"btn btn-primary btn-lg block w-full text-center",onClick:n.closeModal},{default:s(()=>[m(" 去結帳 ")]),_:1},8,["onClick"])])):M("",!0)])]),_:1},512)}const ut=S(J,[["render",pt]]),mt={props:{linkTo:[String,Object],isQueryActive:{type:Boolean,default:!0}},emits:["handle-click"]},_t=["onClick"];function ht(e,i,x,L,r,n){const _=a("RouterLink");return l(),w(_,{to:x.linkTo,custom:""},{default:s(({navigate:d,isExactActive:f})=>[t("li",{class:g(["-mx-2 cursor-pointer rounded-sm px-4 py-3 transition-all duration-300 hover:bg-primary-200 hover:text-primary-800 focus:bg-primary-200 focus:text-primary-800",{active:f&&x.isQueryActive}]),onClick:h=>{d(),e.$emit("handle-click")},role:"link"},[B(e.$slots,"default")],10,_t)]),_:3},8,["to"])}const ft=S(mt,[["render",ht]]),bt={components:{LogoComponent:q,TransitionAccordion:z,CartModal:ut,TooltipComponent:E,MenuLink:ft,CategoryLinks:W},data(){return{isMenuOpen:!1,isProductOpen:!0}},watch:{isMenuOpen(){this.isMenuOpen?(this.getCurrentScroll(),this.disableScroll()):this.enableScroll()}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen},toggleProduct(){this.isProductOpen=!this.isProductOpen},closeMenu(){this.isMenuOpen=!1,this.isProductOpen=!0},openCartModal(){this.$refs.cartModal.showModal()},...k(P,["showLoading","hideLoading"]),...k(X,["getCurrentScroll","disableScroll","enableScroll"]),...k($,["getCart"])},computed:{...O($,["cartNum"]),...O(F,["categories","currentCategory"])}},R=e=>(N("data-v-ceefa594"),e=e(),A(),e),xt={class:"relative border-b border-primary-300 bg-primary-800 text-primary-200 py-2 md:py-3 md:static"},yt={class:"container mx-auto"},gt={class:"flex items-center justify-between"},kt={class:"text-md 0 hidden gap-6 *:rounded-sm *:transition-all *:duration-150 hover:*:bg-primary-200 hover:*:text-primary-800 md:flex"},vt={class:"group relative"},Ct={class:"flex gap-5 p-2"},wt=["onClick"],Mt=["onClick"],$t={class:"flex gap-4 text-lg *:transition-all *:duration-150 hover:*:rounded-sm hover:*:bg-primary-200 hover:*:text-primary-800 focus:*:bg-primary-200 focus:*:text-primary-800"},St=R(()=>t("i",{class:"bi bi-cart-fill","aria-label":"購物車"},null,-1)),Lt={key:0,class:"absolute left-full top-0 block -translate-x-5 rounded-xl bg-orange-600 px-2 py-1 text-xs font-bold leading-3 text-primary-50 group-hover/cartIcon:bg-orange-500"},Tt=R(()=>t("i",{class:"bi bi-heart-fill","aria-label":"收藏"},null,-1)),Ot={key:0,class:"h-[544px] w-full overflow-y-hidden bg-primary-800/95 text-primary-200"},It={class:"container"},Nt={class:"text-md flex flex-col gap-4 py-6 font-bold"},At={class:"-mx-2 px-4 py-3"},Pt={class:"flex h-80 flex-col gap-3 overflow-y-hidden px-2 py-3"};function Rt(e,i,x,L,r,n){const _=a("LogoComponent"),d=a("RouterLink"),f=a("CategoryLinks"),h=a("TooltipComponent"),y=a("MenuLink"),v=a("TransitionAccordion"),T=a("CartModal");return l(),c(C,null,[t("header",{class:g(["fixed top-0 z-40 w-full backdrop-brightness-75 md:backdrop-brightness-100",{"h-full":r.isMenuOpen}])},[t("div",xt,[t("div",yt,[t("nav",gt,[t("button",{type:"button",class:"btn btn-link -ml-1 p-1 md:hidden",onClick:i[0]||(i[0]=(...p)=>n.toggleMenu&&n.toggleMenu(...p))},[t("i",{class:g(["bi text-4xl",`${r.isMenuOpen?"bi-x":"bi-list"}`])},null,2)]),o(d,{to:"/",class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-sm bg-primary-200 transition-opacity duration-150 hover:opacity-80 md:static md:translate-x-0 md:translate-y-0"},{default:s(()=>[o(_,{class:"px-2 pb-2 text-xl md:px-3 md:pb-3 md:pt-1 md:text-2xl"})]),_:1}),t("ul",kt,[t("li",vt,[o(d,{class:"inline-block p-2",to:"/products"},{default:s(()=>[m("產品列表")]),_:1}),o(h,null,{default:s(()=>[t("ul",Ct,[(l(!0),c(C,null,I(e.categories,(p,u)=>(l(),w(f,{key:u,category:u},null,8,["category"]))),128))])]),_:1})]),o(d,{to:"/articles",custom:""},{default:s(({navigate:p,isExactActive:u})=>[t("li",{class:g(["inline-block p-2",u?"active":"cursor-pointer"]),onClick:p,role:"link"}," 最新消息 ",10,wt)]),_:1}),o(d,{to:"/about",custom:""},{default:s(({navigate:p,isExactActive:u})=>[t("li",{class:g(["inline-block p-2",u?"active":"cursor-pointer"]),onClick:p,role:"link"}," 關於我們 ",10,Mt)]),_:1})]),t("ul",$t,[t("li",null,[t("button",{type:"button",class:"group/cartIcon relative block px-3 py-2",onClick:i[1]||(i[1]=(...p)=>n.openCartModal&&n.openCartModal(...p))},[St,e.cartNum?(l(),c("span",Lt,b(e.cartNum),1)):M("",!0)])]),t("li",null,[o(d,{class:"block p-1 px-3 py-2",to:"/favorites"},{default:s(()=>[Tt]),_:1})])])])])]),o(v,null,{default:s(()=>[r.isMenuOpen?(l(),c("div",Ot,[t("div",It,[t("ul",Nt,[t("li",At,[t("button",{class:"block w-full text-start",to:"/products",onClick:i[2]||(i[2]=(...p)=>n.toggleProduct&&n.toggleProduct(...p))},[m(" 產品列表 "),t("i",{class:g(["bi bi-chevron-down float-right transition-all duration-300",{"origin-center rotate-180 ":r.isProductOpen}])},null,2)]),o(v,null,{default:s(()=>[j(t("ul",Pt,[o(y,{"link-to":"/products",isQueryActive:e.currentCategory==="",onHandleClick:n.closeMenu},{default:s(()=>[m(" - 全部 ")]),_:1},8,["isQueryActive","onHandleClick"]),(l(!0),c(C,null,I(e.categories,(p,u)=>(l(),w(y,{key:u,"link-to":{path:"/products",query:{category:u}},isQueryActive:e.currentCategory===u,onHandleClick:n.closeMenu},{default:s(()=>[m(" - "+b(u),1)]),_:2},1032,["link-to","isQueryActive","onHandleClick"]))),128))],512),[[V,r.isProductOpen]])]),_:1})]),o(y,{"link-to":"/articles",onHandleClick:n.closeMenu},{default:s(()=>[m("最新消息")]),_:1},8,["onHandleClick"]),o(y,{"link-to":"/about",onHandleClick:n.closeMenu},{default:s(()=>[m("關於我們")]),_:1},8,["onHandleClick"])])])])):M("",!0)]),_:1})],2),o(T,{ref:"cartModal"},null,512)],64)}const Bt=S(bt,[["render",Rt],["__scopeId","data-v-ceefa594"]]),jt={mounted(){window.addEventListener("scroll",this.handleScroll)},data(){return{isShow:!1}},methods:{scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll(){window.scrollY>500?this.isShow=!0:this.isShow=!1}}},Vt=e=>(N("data-v-8b432281"),e=e(),A(),e),Ht={key:0,class:"fixed bottom-[10%] right-[5%] z-10"},Qt=Vt(()=>t("i",{class:"bi bi-chevron-up text-shadow"},null,-1)),Dt=[Qt];function Xt(e,i,x,L,r,n){return l(),w(H,{name:"anim","enter-active-class":"animate__animated animate__fadeInUp animate__faster","leave-active-class":"animate__animated animate__fadeOutDown animate__faster"},{default:s(()=>[r.isShow?(l(),c("div",Ht,[t("button",{type:"button",class:"btn btn-primary-light rounded-full shadow-sm shadow-primary-800/50",onClick:i[0]||(i[0]=(..._)=>n.scrollToTop&&n.scrollToTop(..._))},Dt)])):M("",!0)]),_:1})}const qt=S(jt,[["render",Xt],["__scopeId","data-v-8b432281"]]),zt={components:{MyLoading:D,NavbarComponent:Bt,ScrollTopBtn:qt},data(){return{timer:{},coupon:{code:"ILOVECACAO",due_date:1714665060,id:"-NuixPXLqbqvgW08-R1y",is_enabled:1,is_main:!0,percent:80,title:"快閃",num:1},timerInterval:null,now:Math.floor(new Date().getTime()/1e3)}},mounted(){this.getCart(),this.handleTimer()},methods:{closeModal(){this.isCartModalOpen=!1},toggleMenu(){this.isMenuOpen=!this.isMenuOpen},handleTimer(){this.timerInterval&&clearInterval(this.timerInterval),this.timerInterval=setInterval(()=>{const e=Math.floor(new Date().getTime()/1e3),i=this.coupon.due_date-e;this.timer={日:Math.floor(i/60/60/24).toString().padStart(2,"0"),時:(Math.floor(i/60/60)%24).toString().padStart(2,"0"),分:(Math.floor(i/60)%60).toString().padStart(2,"0"),秒:(i%60).toString().padStart(2,"0")}},1e3)},...k(P,["showLoading"]),...k($,["getCart"])}},Et={class:"flex h-dvh flex-col"},Ft={class:"mt-[65px] grow bg-primary-50 md:mt-[73px]"},Wt={class:"item-center fixed bottom-0 left-0 z-20 flex w-full flex-wrap justify-center bg-orange-600 py-2 text-sm text-primary-50 md:py-3 md:text-base"},Ut={class:"pr-4"},Yt={class:"font-bold"},Gt=t("i",{class:"bi bi-alarm me-1 hidden md:inline"},null,-1),Jt={class:"flex gap-1"},Kt={class:"font-bold"},Zt={class:"mt-auto bg-primary-800 pb-16 pt-6 text-primary-200"},te={class:"container"},ee={class:"mb-4 flex justify-between border-b border-primary-200 pb-6"},oe=Q('<div class="flex flex-col"><p class="mb-4 font-bold text-primary-100">連絡我們</p><ul class="flex flex-col items-start gap-2 *:transition-opacity *:duration-150 hover:*:opacity-80 md:gap-3"><li><a class="inline-flex items-center gap-3 md:gap-4" href="tel:+886-912345678"><i class="bi bi-telephone text-xl"></i>0912345678 </a></li><li><a class="inline-flex items-center gap-3 md:gap-4" href="mailto:hi@cacao.com"><i class="bi bi-envelope text-xl"></i>hi@cacao.com </a></li></ul></div>',1),se=t("p",{class:"mb-4 font-bold text-primary-100"},"追蹤我們",-1),ne={class:"mb-2 flex items-start gap-2 text-xl *:transition-opacity *:duration-150 hover:*:opacity-80 md:gap-4"},le=t("i",{class:"bi bi-facebook","aria-label":"facebook"},null,-1),ie=t("i",{class:"bi bi-instagram","aria-label":"instagram"},null,-1),ae=t("i",{class:"bi bi-line","aria-label":"line"},null,-1),re={class:"flex flex-col gap-2 text-sm md:flex-row md:justify-between"},ce=t("span",null,"© 2023 jiayu / 非營業用途",-1);function de(e,i,x,L,r,n){const _=a("MyLoading"),d=a("NavbarComponent"),f=a("RouterView"),h=a("RouterLink"),y=a("ScrollTopBtn");return l(),c(C,null,[o(_),t("div",Et,[o(d),t("div",Ft,[o(f,{"my-timer":r.timer,coupon:r.coupon},null,8,["my-timer","coupon"])]),t("div",Wt,[t("p",Ut,[m(" 結帳輸入 "+b(r.coupon.code)+" ",1),t("span",Yt,"全館 "+b(r.coupon.percent/10)+" 折",1)]),Gt,t("ul",Jt,[(l(!0),c(C,null,I(r.timer,(v,T)=>(l(),c("li",{key:v},[t("p",Kt,b(`${v} ${T}`),1)]))),128))])]),t("footer",Zt,[t("div",te,[t("div",ee,[oe,t("div",null,[se,t("ul",ne,[t("li",null,[o(h,{class:"p-1",to:"https://www.facebook.com/"},{default:s(()=>[le]),_:1})]),t("li",null,[o(h,{class:"p-1",to:"https://www.instagram.com/"},{default:s(()=>[ie]),_:1})]),t("li",null,[o(h,{class:"p-1",to:"https://liff.line.me/1645278921-kWRPP32q/?accountId=linetw"},{default:s(()=>[ae]),_:1})])])])]),t("div",re,[ce,o(h,{to:"/about"},{default:s(()=>[m("版權聲明")]),_:1})])])])]),o(y)],64)}const Me=S(zt,[["render",de]]);export{Me as default};
