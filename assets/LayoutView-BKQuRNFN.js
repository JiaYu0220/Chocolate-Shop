import{m as b,a as O,_ as w,o as n,c as C,w as s,b as t,d as e,e as i,f as _,t as y,g as $,r as a,h as H,n as v,F as T,i as A,j as V,v as Q,p as j,k as P,T as D,l as F,q as X}from"./index-CMyrlphQ.js";import{l as R}from"./loadingStore-CNNDSIxe.js";import{c as S}from"./cartStore-CwMgepx-.js";import{M as q}from"./MyLoading-C6hpYYsk.js";import{s as z}from"./scrollStore-BVVnYJzC.js";import{L as E}from"./LogoComponent-B3xw3E7b.js";import{T as U}from"./TransitionAccordion-CDJfK45f.js";import{t as B,T as W}from"./timerStore-CJ-6lJTC.js";import{p as Y}from"./productStore-tfb2XIjh.js";import{C as G}from"./CategoryLinks-BlW-o3qP.js";import{C as J}from"./CartList-DckM4znI.js";import{M as K,X as Z}from"./XBtn-BYSWJIzW.js";import{T as tt}from"./TransitionFade-okeVP0rf.js";import"./swalStore-D00VLDgT.js";import"./LoadingBtn-rAnSLAuv.js";const ot={components:{CartList:J,ModalComponent:K,XBtn:Z},data(){return{modal:null}},provide:{hasDelSwal:!1},mounted(){this.modal=this.$refs.modal},methods:{showModal(){this.modal.showModal()},closeModal(){this.modal.closeModal()},...b(S,["delAllCart"])},computed:{...O(S,["cartNum","total","final_total"])}},et={class:"flex flex-col h-full bg-primary-50 text-primary-950"},st={class:"flex items-center justify-between border-b border-primary-300 px-7 py-2 sm:px-8"},nt=t("h3",{class:"text-lg font-bold"},"購物車",-1),lt={key:0,class:"px-7 py-6 bg-primary-50 sm:px-8"},at={key:1,class:"flex grow items-center justify-center"},it={class:"text-center"},rt=t("i",{class:"bi bi-cart-x text-8xl"},null,-1),ct=t("p",{class:"pb-5 pt-11"},"你的購物車是空的",-1),dt={key:2,class:"mt-auto border-t border-primary-300 px-7 py-6 bg-primary-50 sm:px-8"},pt={class:"flex items-center justify-between pb-6 text-xl font-bold text-primary-800"},ut=t("p",null,"總額",-1),mt={class:"text-2xl"},_t={key:0,class:"mr-2 text-base text-stone-500"};function ht(o,r,f,M,p,l){const c=a("XBtn"),h=a("CartList"),d=a("RouterLink"),x=a("ModalComponent");return n(),C(x,{ref:"modal",direction:"right",class:"my-0 mr-0 min-h-dvh h-dvh max-h-dvh w-11/12 max-w-md"},{default:s(()=>[t("div",et,[t("div",st,[nt,e(c,{onClick:l.closeModal},null,8,["onClick"])]),o.cartNum?(n(),i("div",lt,[e(h)])):(n(),i("div",at,[t("div",it,[rt,ct,e(d,{to:"/products",class:"btn btn-primary",onClick:l.closeModal},{default:s(()=>[_(" 開始購物 ")]),_:1},8,["onClick"])])])),o.cartNum?(n(),i("div",dt,[t("div",pt,[ut,t("p",mt,[o.total!==o.final_total?(n(),i("del",_t," NT$ "+y(o.total),1)):$("",!0),_(" NT$ "+y(o.final_total),1)])]),e(d,{to:"/cart",class:"btn btn-primary btn-lg block w-full text-center",onClick:l.closeModal},{default:s(()=>[_(" 去結帳 ")]),_:1},8,["onClick"])])):$("",!0)])]),_:1},512)}const ft=w(ot,[["render",ht]]),bt={props:{linkTo:[String,Object],isQueryActive:{type:Boolean,default:!0}},emits:["handle-click"]},yt=["onClick"];function xt(o,r,f,M,p,l){const c=a("RouterLink");return n(),C(c,{to:f.linkTo,custom:""},{default:s(({navigate:h,isExactActive:d})=>[t("li",{class:v(["-mx-2 cursor-pointer rounded-sm px-4 py-3 transition-all duration-300 hover:bg-primary-200 hover:text-primary-800 focus:bg-primary-200 focus:text-primary-800",{active:d&&f.isQueryActive}]),onClick:x=>{h(),o.$emit("handle-click")},role:"link"},[H(o.$slots,"default")],10,yt)]),_:3},8,["to"])}const gt=w(bt,[["render",xt]]),kt={mounted(){this.handleCouponTimer()},methods:{...b(B,["handleCouponTimer"])},computed:{...O(B,["couponTimer","coupon"])}},vt={class:"item-center flex w-full flex-wrap justify-center bg-orange-600 py-2 text-xs text-primary-50 sm:py-3 sm:text-sm"},Ct={class:"pr-4"},$t={class:"font-bold"},wt=t("i",{class:"bi bi-alarm me-1 hidden sm:inline"},null,-1),Mt={key:0,class:"flex gap-1"},Tt={class:"font-bold"};function St(o,r,f,M,p,l){return n(),i("div",vt,[t("p",Ct,[_(" 結帳輸入 "+y(o.coupon.code)+" ",1),t("span",$t,"全館 "+y(o.coupon.percent/10)+" 折",1)]),wt,Object.keys(o.couponTimer).length?(n(),i("ul",Mt,[(n(!0),i(T,null,A(o.couponTimer,(c,h)=>(n(),i("li",{key:c},[t("p",Tt,y(`${c} ${h}`),1)]))),128))])):$("",!0)])}const Lt=w(kt,[["render",St]]),Ot={components:{LogoComponent:E,TransitionAccordion:U,CartModal:ft,TooltipComponent:W,MenuLink:gt,CategoryLinks:G,AdBanner:Lt},data(){return{isMenuOpen:!1,isProductOpen:!0}},watch:{isMenuOpen(){this.isMenuOpen?(this.getCurrentScroll(),this.disableScroll()):this.enableScroll()}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen},toggleProduct(){this.isProductOpen=!this.isProductOpen},closeMenu(){this.isMenuOpen=!1,this.isProductOpen=!0},openCartModal(){this.$refs.cartModal.showModal()},...b(R,["showLoading","hideLoading"]),...b(z,["getCurrentScroll","disableScroll","enableScroll"]),...b(S,["getCart"])},computed:{...O(S,["cartNum"]),...O(Y,["categories","currentCategory"])}},I=o=>(j("data-v-88cf4b87"),o=o(),P(),o),Nt={class:"relative border-b border-primary-300 bg-primary-800 text-primary-200 py-2 md:py-3 md:static"},At={class:"container mx-auto"},Bt={class:"flex items-center justify-between"},jt={class:"text-md 0 hidden gap-6 *:rounded-sm *:transition-all *:duration-150 hover:*:bg-primary-200 hover:*:text-primary-800 md:flex"},Pt={class:"group relative"},Rt={class:"flex gap-5 p-2"},It=["onClick"],Ht=["onClick"],Vt={class:"flex gap-4 text-lg *:transition-all *:duration-150 hover:*:rounded-sm hover:*:bg-primary-200 hover:*:text-primary-800 focus:*:bg-primary-200 focus:*:text-primary-800"},Qt=I(()=>t("i",{class:"bi bi-cart-fill","aria-label":"購物車"},null,-1)),Dt={key:0,class:"absolute left-full top-0 block -translate-x-5 rounded-xl bg-orange-600 px-2 py-1 text-xs font-bold leading-3 text-primary-50 group-hover/cartIcon:bg-orange-500"},Ft=I(()=>t("i",{class:"bi bi-heart-fill","aria-label":"收藏"},null,-1)),Xt={key:0,class:"h-[544px] w-full overflow-y-hidden bg-primary-800/95 text-primary-200"},qt={class:"container"},zt={class:"text-md flex flex-col gap-4 py-6 font-bold"},Et={class:"-mx-2 px-4 py-3"},Ut={class:"flex h-80 flex-col gap-3 overflow-y-hidden px-2 py-3"};function Wt(o,r,f,M,p,l){const c=a("AdBanner"),h=a("LogoComponent"),d=a("RouterLink"),x=a("CategoryLinks"),g=a("TooltipComponent"),k=a("MenuLink"),L=a("TransitionAccordion"),N=a("CartModal");return n(),i(T,null,[t("header",{class:v(["fixed top-0 z-40 w-full backdrop-brightness-75 md:backdrop-brightness-100",{"h-full":p.isMenuOpen}])},[e(c),t("div",Nt,[t("div",At,[t("nav",Bt,[t("button",{type:"button",class:"btn btn-link -ml-1 p-1 md:hidden",onClick:r[0]||(r[0]=(...u)=>l.toggleMenu&&l.toggleMenu(...u))},[t("i",{class:v(["bi text-4xl",`${p.isMenuOpen?"bi-x":"bi-list"}`])},null,2)]),e(d,{to:"/",class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-sm bg-primary-200 transition-opacity duration-150 hover:opacity-80 md:static md:translate-x-0 md:translate-y-0"},{default:s(()=>[e(h,{class:"px-2 pb-2 text-xl md:px-3 md:pb-3 md:pt-1 md:text-2xl"})]),_:1}),t("ul",jt,[t("li",Pt,[e(d,{class:"inline-block p-2",to:"/products"},{default:s(()=>[_("產品列表")]),_:1}),e(g,null,{default:s(()=>[t("ul",Rt,[(n(!0),i(T,null,A(o.categories,(u,m)=>(n(),C(x,{key:m,category:m},null,8,["category"]))),128))])]),_:1})]),e(d,{to:"/articles",custom:""},{default:s(({navigate:u,isExactActive:m})=>[t("li",{class:v(["inline-block p-2",m?"active":"cursor-pointer"]),onClick:u,role:"link"}," 最新消息 ",10,It)]),_:1}),e(d,{to:"/about",custom:""},{default:s(({navigate:u,isExactActive:m})=>[t("li",{class:v(["inline-block p-2",m?"active":"cursor-pointer"]),onClick:u,role:"link"}," 關於我們 ",10,Ht)]),_:1})]),t("ul",Vt,[t("li",null,[t("button",{type:"button",class:"group/cartIcon relative block px-3 py-2",onClick:r[1]||(r[1]=(...u)=>l.openCartModal&&l.openCartModal(...u))},[Qt,o.cartNum?(n(),i("span",Dt,y(o.cartNum),1)):$("",!0)])]),t("li",null,[e(d,{class:"block p-1 px-3 py-2",to:"/favorites"},{default:s(()=>[Ft]),_:1})])])])])]),e(L,null,{default:s(()=>[p.isMenuOpen?(n(),i("div",Xt,[t("div",qt,[t("ul",zt,[t("li",Et,[t("button",{class:"block w-full text-start",to:"/products",onClick:r[2]||(r[2]=(...u)=>l.toggleProduct&&l.toggleProduct(...u))},[_(" 產品列表 "),t("i",{class:v(["bi bi-chevron-down float-right transition-all duration-300",{"origin-center rotate-180 ":p.isProductOpen}])},null,2)]),e(L,null,{default:s(()=>[V(t("ul",Ut,[e(k,{"link-to":"/products",isQueryActive:o.currentCategory==="",onHandleClick:l.closeMenu},{default:s(()=>[_(" - 全部 ")]),_:1},8,["isQueryActive","onHandleClick"]),(n(!0),i(T,null,A(o.categories,(u,m)=>(n(),C(k,{key:m,"link-to":{path:"/products",query:{category:m}},isQueryActive:o.currentCategory===m,onHandleClick:l.closeMenu},{default:s(()=>[_(" - "+y(m),1)]),_:2},1032,["link-to","isQueryActive","onHandleClick"]))),128))],512),[[Q,p.isProductOpen]])]),_:1})]),e(k,{"link-to":"/articles",onHandleClick:l.closeMenu},{default:s(()=>[_("最新消息")]),_:1},8,["onHandleClick"]),e(k,{"link-to":"/about",onHandleClick:l.closeMenu},{default:s(()=>[_("關於我們")]),_:1},8,["onHandleClick"])])])])):$("",!0)]),_:1})],2),e(N,{ref:"cartModal"},null,512)],64)}const Yt=w(Ot,[["render",Wt],["__scopeId","data-v-88cf4b87"]]),Gt={mounted(){window.addEventListener("scroll",this.handleScroll)},data(){return{isShow:!1}},methods:{scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll(){window.scrollY>500?this.isShow=!0:this.isShow=!1}}},Jt=o=>(j("data-v-8b432281"),o=o(),P(),o),Kt={key:0,class:"fixed bottom-[10%] right-[5%] z-10"},Zt=Jt(()=>t("i",{class:"bi bi-chevron-up text-shadow"},null,-1)),to=[Zt];function oo(o,r,f,M,p,l){return n(),C(D,{name:"anim","enter-active-class":"animate__animated animate__fadeInUp animate__faster","leave-active-class":"animate__animated animate__fadeOutDown animate__faster"},{default:s(()=>[p.isShow?(n(),i("div",Kt,[t("button",{type:"button",class:"btn btn-primary-light rounded-full shadow-sm shadow-primary-800/50",onClick:r[0]||(r[0]=(...c)=>l.scrollToTop&&l.scrollToTop(...c))},to)])):$("",!0)]),_:1})}const eo=w(Gt,[["render",oo],["__scopeId","data-v-8b432281"]]),so={components:{MyLoading:q,NavbarComponent:Yt,ScrollTopBtn:eo,TransitionFade:tt},mounted(){this.getCart()},methods:{closeModal(){this.isCartModalOpen=!1},toggleMenu(){this.isMenuOpen=!this.isMenuOpen},...b(R,["showLoading"]),...b(S,["getCart"])}},no={class:"flex h-dvh flex-col"},lo={class:"mt-[97px] grow bg-primary-50 sm:mt-[109px] md:mt-[117px]"},ao={class:"mt-auto bg-primary-800 py-6 text-primary-200"},io={class:"container"},ro={class:"mb-4 flex justify-between border-b border-primary-200 pb-6"},co=F('<div class="flex flex-col"><p class="mb-4 font-bold text-primary-100">連絡我們</p><ul class="flex flex-col items-start gap-2 *:transition-opacity *:duration-150 hover:*:opacity-80 md:gap-3"><li><a class="inline-flex items-center gap-3 md:gap-4" href="tel:+886-912345678"><i class="bi bi-telephone text-xl"></i>0912345678 </a></li><li><a class="inline-flex items-center gap-3 md:gap-4" href="mailto:hi@cacao.com"><i class="bi bi-envelope text-xl"></i>hi@cacao.com </a></li></ul></div>',1),po=t("p",{class:"mb-4 font-bold text-primary-100"},"追蹤我們",-1),uo={class:"mb-2 flex items-start gap-2 text-xl *:transition-opacity *:duration-150 hover:*:opacity-80 md:gap-4"},mo=t("i",{class:"bi bi-facebook","aria-label":"facebook"},null,-1),_o=t("i",{class:"bi bi-instagram","aria-label":"instagram"},null,-1),ho=t("i",{class:"bi bi-line","aria-label":"line"},null,-1),fo={class:"flex flex-col gap-2 text-sm md:flex-row md:justify-between"},bo=t("span",null,"© 2023 jiayu / 非營業用途",-1);function yo(o,r,f,M,p,l){const c=a("MyLoading"),h=a("NavbarComponent"),d=a("TransitionFade"),x=a("RouterView"),g=a("RouterLink"),k=a("ScrollTopBtn");return n(),i(T,null,[e(c),t("div",no,[e(h),t("div",lo,[e(x,null,{default:s(({Component:L,route:N})=>[e(d,{mode:"out-in"},{default:s(()=>[(n(),C(X(L),{key:N.path}))]),_:2},1024)]),_:1})]),t("footer",ao,[t("div",io,[t("div",ro,[co,t("div",null,[po,t("ul",uo,[t("li",null,[e(g,{class:"p-1",to:"https://www.facebook.com/"},{default:s(()=>[mo]),_:1})]),t("li",null,[e(g,{class:"p-1",to:"https://www.instagram.com/"},{default:s(()=>[_o]),_:1})]),t("li",null,[e(g,{class:"p-1",to:"https://liff.line.me/1645278921-kWRPP32q/?accountId=linetw"},{default:s(()=>[ho]),_:1})])])])]),t("div",fo,[bo,e(g,{to:"/about"},{default:s(()=>[_("版權聲明")]),_:1})])])])]),e(k)],64)}const jo=w(so,[["render",yo]]);export{jo as default};
