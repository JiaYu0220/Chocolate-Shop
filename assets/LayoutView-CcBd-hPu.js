import{m as y,a as A,_ as S,o as n,c as C,w as s,b as t,d as o,e as d,t as k,F as v,r as O,f as r,g as M,h as i,i as j,n as g,j as V,v as D,p as I,k as N,T as Q,l as P}from"./index-D5bxwdZD.js";import{l as B}from"./loadingStore-X0dCeu3y.js";import{c as $}from"./cartStore-BCDtDaoo.js";import{M as z}from"./MyLoading-6_O2-xLP.js";import{s as X}from"./scrollStore-B5RPOzgy.js";import{L as E}from"./LogoComponent-DYuNBIkF.js";import{T as q}from"./TransitionAccordion-CwgrOOhc.js";import{T as F}from"./TooltipComponent-_I-0ANqZ.js";import{p as U}from"./productStore-CbIX9K2h.js";import{C as W}from"./CategoryLinks-gtbQheGB.js";import{C as Y}from"./CartCard-DbyH8Yqc.js";import{M as G,X as H}from"./XBtn-B0M9M9ci.js";import"./swalStore-BY5kGDbB.js";import"./LoadingBtn-BV10FGmM.js";const J={components:{CartCard:Y,ModalComponent:G,XBtn:H},data(){return{modal:null}},mounted(){this.modal=this.$refs.modal},methods:{showModal(){this.modal.showModal()},closeModal(){this.modal.closeModal()},...y($,["delAllCart"])},computed:{...A($,["cartNum","carts","total","final_total"])}},K={class:"flex flex-col h-dvh bg-primary-50 text-primary-950"},Z={class:"flex justify-between items-center py-2 px-7 sm:px-8 border-b border-primary-300"},tt=t("h3",{class:"text-lg font-bold"},"購物車",-1),et={key:0,class:"py-6 px-7 sm:px-8"},ot={class:"flex justify-between items-center pb-4"},st={class:"flex flex-col gap-6 sm:gap-8"},lt={key:1,class:"grow flex justify-center items-center"},nt={class:"text-center"},it=t("i",{class:"bi bi-cart-x text-8xl"},null,-1),at=t("p",{class:"pt-11 pb-5"},"你的購物車是空的",-1),rt={key:2,class:"border-t border-primary-300 mt-auto py-6 px-7 sm:px-8"},ct={class:"pb-6 text-primary-800 text-xl font-bold flex justify-between items-center"},dt=t("p",null,"總額",-1),pt={class:"text-2xl"},ut={key:0,class:"text-stone-500 mr-2 text-base"};function mt(e,a,p,L,c,l){const b=i("XBtn"),u=i("CartCard"),x=i("RouterLink"),m=i("ModalComponent");return n(),C(m,{ref:"modal",direction:"right",class:"my-0 mr-0 max-h-dvh w-11/12 max-w-md"},{default:s(()=>[t("div",K,[t("div",Z,[tt,o(b,{onClick:l.closeModal},null,8,["onClick"])]),e.cartNum?(n(),d("div",et,[t("div",ot,[t("p",null,"共 "+k(e.cartNum)+" 項商品",1),t("button",{class:"btn btn-primary-light",type:"button",onClick:a[0]||(a[0]=f=>e.delAllCart(c.modal))}," 清空購物車")]),t("ul",st,[(n(!0),d(v,null,O(e.carts,f=>(n(),C(u,{key:f.id,cart:f,"swal-container":c.modal},null,8,["cart","swal-container"]))),128))])])):(n(),d("div",lt,[t("div",nt,[it,at,o(x,{to:"/products",class:"btn btn-primary",onClick:l.closeModal},{default:s(()=>[r("開始購物")]),_:1},8,["onClick"])])])),e.cartNum?(n(),d("div",rt,[t("div",ct,[dt,t("p",pt,[e.total!==e.final_total?(n(),d("del",ut," NT$ "+k(e.total),1)):M("",!0),r(" NT$ "+k(e.final_total),1)])]),o(x,{to:"/cart",class:"block btn btn-primary btn-lg w-full text-center",onClick:l.closeModal},{default:s(()=>[r(" 去結帳")]),_:1},8,["onClick"])])):M("",!0)])]),_:1},512)}const _t=S(J,[["render",mt]]),ht={props:{linkTo:String,isQueryActive:{type:Boolean,default:!0}},methods:{handleClick(){this.$emit("onClick")}}},ft=["onClick"];function bt(e,a,p,L,c,l){const b=i("RouterLink");return n(),C(b,{to:p.linkTo,custom:""},{default:s(({navigate:u,isExactActive:x})=>[t("li",{class:g(["py-3 px-4 -mx-2 rounded-sm cursor-pointer transition-all duration-300 hover:text-primary-800 hover:bg-primary-200 focus:text-primary-800 focus:bg-primary-200",{active:x&&p.isQueryActive}]),onClick:m=>{u(),l.handleClick()},role:"link"},[j(e.$slots,"default")],10,ft)]),_:3},8,["to"])}const xt=S(ht,[["render",bt]]),gt={components:{LogoComponent:E,TransitionAccordion:q,CartModal:_t,TooltipComponent:F,MenuLink:xt,CategoryLinks:W},data(){return{isMenuOpen:!1,isProductOpen:!0}},watch:{isMenuOpen(){this.isMenuOpen?(this.getCurrentScroll(),this.disableScroll()):this.enableScroll()}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen},toggleProduct(){this.isProductOpen=!this.isProductOpen},closeMenuAndProduct(){this.isMenuOpen=!1,this.isProductOpen=!1},openCartModal(){this.$refs.cartModal.showModal()},...y(B,["showLoading","hideLoading"]),...y(X,["getCurrentScroll","disableScroll","enableScroll"]),...y($,["getCart"])},computed:{...A($,["cartNum"]),...A(U,["categories","currentCategory"])}},R=e=>(I("data-v-bf011769"),e=e(),N(),e),yt={class:"bg-primary-800 text-primary-200 border-b border-primary-300 py-2 md:py-4"},kt={class:"container mx-auto"},vt={class:"flex justify-between items-center"},Ct={class:"hidden md:flex gap-6 text-md 0 *:transition-all *:duration-150 *:rounded-sm hover:*:text-primary-800 hover:*:bg-primary-200"},wt=["onClick"],Mt={class:"relative group"},$t={class:"flex gap-5 p-2"},St=["onClick"],Lt={class:"flex gap-4 text-lg *:transition-all *:duration-150 hover:*:rounded-sm hover:*:text-primary-800 hover:*:bg-primary-200 focus:*:text-primary-800 focus:*:bg-primary-200"},Ot=R(()=>t("i",{class:"bi bi-cart-fill","aria-label":"購物車"},null,-1)),Tt={key:0,class:"block absolute top-0 left-full -translate-x-5 py-1 px-2 bg-orange-600 text-primary-50 rounded-xl text-xs font-bold leading-3 group-hover/cartIcon:bg-orange-500"},At=R(()=>t("i",{class:"bi bi-heart-fill","aria-label":"收藏"},null,-1)),It={key:0,class:"bg-primary-800/95 text-primary-200 w-full overflow-y-hidden h-[544px]"},Nt={class:"container"},Pt={class:"flex flex-col gap-4 py-6 text-md font-bold"},Bt={class:"py-3 px-4 -mx-2"},Rt={class:"flex flex-col gap-3 px-2 py-3 overflow-y-hidden h-80"};function jt(e,a,p,L,c,l){const b=i("LogoComponent"),u=i("RouterLink"),x=i("CategoryLinks"),m=i("TooltipComponent"),f=i("MenuLink"),w=i("TransitionAccordion"),T=i("CartModal");return n(),d(v,null,[t("header",{class:g(["fixed top-0 z-10 w-full backdrop-brightness-75 md:backdrop-brightness-100",{"h-full":c.isMenuOpen}])},[t("div",yt,[t("div",kt,[t("nav",vt,[t("button",{type:"button",class:"btn btn-link p-2 my-2 -ml-2 md:hidden",onClick:a[0]||(a[0]=(..._)=>l.toggleMenu&&l.toggleMenu(..._))},[t("i",{class:g(["bi text-4xl",`${c.isMenuOpen?"bi-x":"bi-list"}`])},null,2)]),o(u,{to:"/",class:"bg-primary-200 rounded-sm hover:opacity-80 transition-opacity duration-150"},{default:s(()=>[o(b,{class:"px-3 pt-1 pb-3 text-2xl md:px-4 md:pt-3 md:pb-5 md:text-4xl"})]),_:1}),t("ul",Ct,[o(u,{to:"/about",custom:""},{default:s(({navigate:_,isExactActive:h})=>[t("li",{class:g(["inline-block p-2",h?"active":"cursor-pointer"]),onClick:_,role:"link"},"關於我們",10,wt)]),_:1}),t("li",Mt,[o(u,{class:"inline-block p-2",to:"/products"},{default:s(()=>[r("產品列表")]),_:1}),o(m,null,{default:s(()=>[t("ul",$t,[(n(!0),d(v,null,O(e.categories,(_,h)=>(n(),C(x,{key:h,category:h},null,8,["category"]))),128))])]),_:1})]),o(u,{to:"/articles",custom:""},{default:s(({navigate:_,isExactActive:h})=>[t("li",{class:g(["inline-block p-2",h?"active":"cursor-pointer"]),onClick:_,role:"link"},"最新消息",10,St)]),_:1})]),t("ul",Lt,[t("li",null,[t("button",{type:"button",class:"block py-2 px-3 relative group/cartIcon",onClick:a[1]||(a[1]=(..._)=>l.openCartModal&&l.openCartModal(..._))},[Ot,e.cartNum?(n(),d("span",Tt,k(e.cartNum),1)):M("",!0)])]),t("li",null,[o(u,{class:"block py-2 px-3",to:"/favorites"},{default:s(()=>[At]),_:1})])])])])]),o(w,null,{default:s(()=>[c.isMenuOpen?(n(),d("div",It,[t("div",Nt,[t("ul",Pt,[o(f,{"link-to":"/about",onOnClick:l.toggleMenu},{default:s(()=>[r("關於我們")]),_:1},8,["onOnClick"]),t("li",Bt,[t("button",{class:"block text-start w-full",to:"/products",onClick:a[2]||(a[2]=(..._)=>l.toggleProduct&&l.toggleProduct(..._))},[r(" 產品列表 "),t("i",{class:g(["bi bi-chevron-down float-right transition-all duration-300",{"origin-center rotate-180 ":c.isProductOpen}])},null,2)]),o(w,null,{default:s(()=>[V(t("ul",Rt,[o(f,{"link-to":"/products",isQueryActive:e.currentCategory==="",onOnClick:l.closeMenuAndProduct},{default:s(()=>[r(" - 全部 ")]),_:1},8,["isQueryActive","onOnClick"]),(n(!0),d(v,null,O(e.categories,(_,h)=>(n(),C(f,{key:h,"link-to":{path:"/products",query:{category:h}},isQueryActive:e.currentCategory===h,onOnClick:l.closeMenuAndProduct},{default:s(()=>[r(" - "+k(h),1)]),_:2},1032,["link-to","isQueryActive","onOnClick"]))),128))],512),[[D,c.isProductOpen]])]),_:1})]),o(f,{"link-to":"/articles",onOnClick:l.toggleMenu},{default:s(()=>[r("最新消息")]),_:1},8,["onOnClick"])])])])):M("",!0)]),_:1})],2),o(T,{ref:"cartModal"},null,512)],64)}const Vt=S(gt,[["render",jt],["__scopeId","data-v-bf011769"]]),Dt={mounted(){window.addEventListener("scroll",this.handleScroll)},data(){return{isShow:!1}},methods:{scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll(){window.scrollY>500?this.isShow=!0:this.isShow=!1}}},Qt=e=>(I("data-v-6e911e99"),e=e(),N(),e),zt={key:0,class:"fixed right-[5%] bottom-[10%] z-10"},Xt=Qt(()=>t("i",{class:"bi bi-chevron-up text-shadow"},null,-1)),Et=[Xt];function qt(e,a,p,L,c,l){return n(),C(Q,{name:"anim","enter-active-class":`animate__animated
  animate__fadeInUp animate__faster`,"leave-active-class":`animate__animated
  animate__fadeOutDown animate__faster`},{default:s(()=>[c.isShow?(n(),d("div",zt,[t("button",{type:"button",class:"btn btn-primary-light shadow-sm shadow-primary-800/50 rounded-full",onClick:a[0]||(a[0]=(...b)=>l.scrollToTop&&l.scrollToTop(...b))},Et)])):M("",!0)]),_:1})}const Ft=S(Dt,[["render",qt],["__scopeId","data-v-6e911e99"]]),Ut={components:{MyLoading:z,NavbarComponent:Vt,ScrollTopBtn:Ft},data(){return{timer:{},timerInterval:null,now:Math.floor(new Date().getTime()/1e3)}},mounted(){this.getCart(),this.handleTimer()},methods:{closeModal(){this.isCartModalOpen=!1},toggleMenu(){this.isMenuOpen=!this.isMenuOpen},handleTimer(){const e=Date.parse("2024-03-31")/1e3;this.timerInterval&&clearInterval(this.timerInterval),this.timerInterval=setInterval(()=>{const a=Math.floor(new Date().getTime()/1e3),p=e-a;this.timer={日:Math.floor(p/60/60/24).toString().padStart(2,"0"),時:(Math.floor(p/60/60)%24).toString().padStart(2,"0"),分:(Math.floor(p/60)%60).toString().padStart(2,"0"),秒:(p%60).toString().padStart(2,"0")}},1e3)},...y(B,["showLoading"]),...y($,["getCart"])}},Wt={class:"flex flex-col h-dvh"},Yt={class:"mt-[89px] md:mt-[105px] grow bg-primary-50"},Gt={class:"fixed bottom-0 left-0 z-20 w-full flex flex-wrap justify-center item-center py-2 bg-orange-600 text-primary-50 text-sm md:text-base md:py-3"},Ht=t("p",{class:"pr-4"},[r("結帳輸入 ILOVECACAO "),t("span",{class:"font-bold"},"全館 8 折")],-1),Jt=t("i",{class:"bi bi-alarm me-1 hidden md:inline"},null,-1),Kt={class:"flex gap-1"},Zt={class:"font-bold"},te={class:"bg-primary-800 text-primary-200 pt-6 pb-16 mt-auto"},ee={class:"container"},oe={class:"flex justify-between border-b border-primary-200 pb-6 mb-4"},se={class:"flex flex-col"},le={class:"hidden md:flex gap-12 mb-8 *:transition-opacity *:duration-150 hover:*:opacity-80"},ne=P('<ul class="flex flex-col items-start gap-2 *:transition-opacity *:duration-150 hover:*:opacity-80 md:gap-3 md:*:text-xl"><li><a class="inline-flex items-center gap-3 md:gap-4" href="tel:+886-912345678"><i class="bi bi-phone text-xl md:text-3xl"></i>0912345678 </a></li><li><a class="inline-flex items-center gap-3 md:gap-4" href="mailto:hi@cacao.com"><i class="bi bi-envelope text-xl md:text-3xl"></i>hi@cacao.com </a></li></ul>',1),ie=P('<ul class="flex items-start gap-2 text-xl mb-2 *:transition-opacity *:duration-150 hover:*:opacity-80 md:text-4xl md:gap-4"><li><a class="px-1" href="https://www.facebook.com/"><i class="bi bi-facebook" aria-label="facebook"></i></a></li><li><a class="px-1" href="https://www.instagram.com/"><i class="bi bi-instagram" aria-label="instagram"></i></a></li><li><a class="px-1" href="https://liff.line.me/1645278921-kWRPP32q/?accountId=linetw"><i class="bi bi-line" aria-label="line"></i></a></li></ul>',1),ae={class:"flex flex-col gap-2 md:flex-row md:justify-between text-sm"},re=t("span",null,"© 2023 jiayu / 非營業用途",-1),ce={class:"flex flex-col md:flex-row gap-2 md:gap-12"};function de(e,a,p,L,c,l){const b=i("MyLoading"),u=i("NavbarComponent"),x=i("RouterView"),m=i("RouterLink"),f=i("ScrollTopBtn");return n(),d(v,null,[o(b),t("div",Wt,[o(u),t("div",Yt,[o(x,{"my-timer":c.timer},null,8,["my-timer"])]),t("div",Gt,[Ht,Jt,t("ul",Kt,[(n(!0),d(v,null,O(c.timer,(w,T)=>(n(),d("li",{key:w},[t("p",Zt,k(`${w} ${T}`),1)]))),128))])]),t("footer",te,[t("div",ee,[t("div",oe,[t("div",se,[t("ul",le,[t("li",null,[o(m,{to:"/"},{default:s(()=>[r("首頁")]),_:1})]),t("li",null,[o(m,{to:"/about"},{default:s(()=>[r("關於我們")]),_:1})]),t("li",null,[o(m,{to:"/products"},{default:s(()=>[r("產品列表")]),_:1})]),t("li",null,[o(m,{to:"/articles"},{default:s(()=>[r("最新消息")]),_:1})])]),ne]),ie]),t("div",ae,[re,t("div",ce,[o(m,{to:"/about"},{default:s(()=>[r("版權聲明")]),_:1}),o(m,{to:"/login"},{default:s(()=>[r("登入後台")]),_:1})])])])])]),o(f)],64)}const Me=S(Ut,[["render",de]]);export{Me as default};
