import{m as g,a as f,_,o,e as i,b as e,n as x,t as n,c as h,w as m,g as d,d as u,F as y,f as b,k as w,v,h as C}from"./index-D3_6LEXB.js";import{c as p}from"./cartStore-Blp1LSfe.js";import{l as k}from"./loadingStore-DT-oSTtX.js";import{L as q}from"./LoadingBtn-_Q2in9eb.js";const S={props:{cart:Object,swalContainer:{default:"body"},canEdit:{type:Boolean,default:!0}},components:{LoadingBtn:q},data(){return{qty:null}},mounted(){this.qty=this.cart.qty},methods:{...g(p,["debouncePutCart","delCart"])},watch:{"cart.qty":{handler(){this.qty=this.cart.qty},deep:!0}},computed:{...f(k,["loadingStatus"])}},L={class:"flex items-center gap-2 sm:gap-4 rounded"},B={class:"w-1/3 h-28 sm:h-32 rounded-md overflow-hidden"},N=["src"],I={class:"w-2/3 flex flex-col justify-between"},j={class:"font-medium sm:text-lg"},E={key:0,class:"bi bi-trash3 text-orange-700"},T={class:"text-stone-500 text-sm mb-1 sm:text-base"},V={class:"mb-1"},P={key:0,class:"text-stone-500 mr-2 text-xs sm:text-sm"},z={class:"text-primary-800"},D={class:"flex items-center justify-between gap-1"},F={key:0,class:"flex w-fit border-2 border-primary-200 rounded text-sm sm:text-base *:px-2 *:py-1 *:sm:px-3"},U={key:1},A={class:"text-primary-800 sm:text-lg font-bold"};function M(a,s,t,O,r,G){const l=C("LoadingBtn");return o(),i("li",L,[e("div",B,[e("img",{loading:"lazy",class:"w-full h-full object-cover",src:t.cart.product.imageUrl,alt:"產品圖"},null,8,N)]),e("div",I,[e("div",{class:x({"flex justify-between":t.canEdit})},[e("p",j,n(t.cart.product.title),1),t.canEdit?(o(),h(l,{key:0,class:"btn btn-link -mt-2 -mr-3 shadow-none",onClick:s[0]||(s[0]=c=>a.delCart(t.cart,t.swalContainer)),isLoading:a.loadingStatus.cartId===t.cart.id},{default:m(()=>[a.loadingStatus.cartId!==t.cart.id?(o(),i("i",E)):d("",!0)]),_:1},8,["isLoading"])):d("",!0)],2),e("p",T,n(t.cart.product.unit),1),e("p",V,[t.cart.product.origin_price!==t.cart.product.price?(o(),i("del",P," NT$ "+n(t.cart.product.origin_price),1)):d("",!0),e("span",z,"NT$ "+n(t.cart.product.price),1)]),e("div",D,[t.canEdit?(o(),i("div",F,[u(l,{class:"transition-colors hover:bg-primary-200 focus:bg-primary-200 active:bg-primary-200 disabled:text-stone-500 disabled:bg-stone-100/50 disabled:cursor-not-allowed",onClick:s[1]||(s[1]=c=>{r.qty--,a.debouncePutCart(t.cart,r.qty)}),disabled:r.qty===1,isLoading:a.loadingStatus.cartId===t.cart.id},{default:m(()=>[a.loadingStatus.cartId!==t.cart.id?(o(),i(y,{key:0},[b("－")],64)):d("",!0)]),_:1},8,["disabled","isLoading"]),w(e("input",{type:"text",class:"border-y-0 bg-transparent w-9 text-center text-sm border-x border-primary-200 focus:ring-primary-700 sm:w-11 sm:text-base","onUpdate:modelValue":s[2]||(s[2]=c=>r.qty=c),readonly:""},null,512),[[v,r.qty]]),u(l,{class:"transition-colors hover:bg-primary-200 focus:bg-primary-200 active:bg-primary-200 disabled:text-stone-600 disabled:cursor-not-allowed",onClick:s[3]||(s[3]=c=>{r.qty++,a.debouncePutCart(t.cart,r.qty)}),isLoading:a.loadingStatus.cartId===t.cart.id},{default:m(()=>[a.loadingStatus.cartId!==t.cart.id?(o(),i(y,{key:0},[b("＋")],64)):d("",!0)]),_:1},8,["isLoading"])])):(o(),i("p",U,"數量："+n(t.cart.qty),1)),e("p",A,"NT$ "+n(t.cart.total),1)])])])}const R=_(S,[["render",M]]);export{R as C};
